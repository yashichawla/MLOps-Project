schema: '2.0'
stages:
  salad_preprocess:
    cmd: "python -c \"import os; [os.makedirs(p, exist_ok=True) for p in ('data/stats','data/validation','data/metrics')]\"\
      \ && python scripts/preprocess_salad.py && python scripts/ge_runner.py validate\n"
    deps:
    - path: config/data_sources.json
      hash: md5
      md5: f9088691602e8692e265d0ee0dfbf79c
      size: 174
    - path: scripts/ge_runner.py
      hash: md5
      md5: 722aa01ea1e5dd23b2d2ff63b0785a57
      size: 20159
    - path: scripts/preprocess_salad.py
      hash: md5
      md5: 6f9e9a6000bce70175eb118eda8de8a0
      size: 9704
    outs:
    - path: data/metrics/stats
      hash: md5
      md5: dc3ab8f4908d6d162d65c2926b8ce64a.dir
      size: 2203
      nfiles: 2
    - path: data/metrics/validation
      hash: md5
      md5: 5a82af1bb5a1fb8a1fd867cd16b50ed1.dir
      size: 398
      nfiles: 2
    - path: data/processed/processed_data.csv
      hash: md5
      md5: ea378c549ff362b0a18c4aff5c336659
      size: 13290021
  model_responses:
    cmd: echo "Model responses generated by Airflow DAG"
    outs:
    - path: data/responses
      hash: md5
      md5: 0902bad95c3c47d7bfc456fa3895ab66.dir
      size: 127778
      nfiles: 5
  judge_outputs:
    cmd: echo "Judge outputs generated by Airflow DAG"
    outs:
    - path: data/judge
      hash: md5
      md5: 79364ddf9160f77d2fe70cc33989bb67.dir
      size: 118167
      nfiles: 5
  bias_detection:
    cmd: echo "Bias detection outputs generated by Airflow DAG"
    outs:
    - path: data/bias
      hash: md5
      md5: f7f5403a6cbc18c3c0923ae6634a5942.dir
      size: 8446
      nfiles: 18
  additional_metrics:
    cmd: echo "Additional metrics generated by Airflow DAG"
    outs:
    - path: data/metrics
      hash: md5
      md5: 0272578783e50b8fecbb31169f2f08b6.dir
      size: 5017
      nfiles: 11
